<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{.Post.Title}}</title>
    <link rel="stylesheet" href="/static/posts.css">
</head>

<body>
    <div class="post">
        <h1>{{.Post.Title}}</h1>
        <p>{{.Post.Content}}</p>
        <hr>
        <h2>Comments</h2>
        <ul>
            {{range .Comments}}
            <li>{{.Username}}: {{.Content}}</li>
            {{end}}
        </ul>
        {{if .LoggedInUser}}
        <form action="/api/posts/{{.Post.ID}}/comments" method="POST">
            <textarea name="comment" placeholder="Add a comment..."></textarea>
            <button type="submit">Comment</button>
        </form>
        {{else}}
        <p><a href="/login">Login to add a comment</a></p>
        {{end}}
    </div>
</body>
<script src="/static/index.js"></script>

</html>
